import socket
import threading
import os
import random
import base64

def handle_client(filename, client_addr, data_port):
    """Thread function to handle file transmission for a single client"""
    try:
        # Create dedicated socket for this client
        client_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        client_sock.bind(('', data_port))
        